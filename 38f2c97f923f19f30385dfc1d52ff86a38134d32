{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3f4356d1_613ab500",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-13T09:00:28Z",
      "side": 1,
      "message": "This looks like a correct fix to me.\n\nThat said, this was only discovered via another project\u0027s test, so chances are that there are more cases like this. Is it possible for sysrpeo-cpp to actually provide a working libyang context here? I see that there\u0027s sr_session_acquire_data and sr_release_data; can these be used in the DataNode tree\u0027s context manager? (A question for Vasek for sure.)",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e576c801_d1f4c970",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2022-04-13T12:46:50Z",
      "side": 1,
      "message": "recheck",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e11009fe_6b06adcd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2022-04-20T08:15:03Z",
      "side": 1,
      "message": "Is it possible to include a test for this? Maybe to the same thing that sysrepo-cpp does? Which is probably using wrapUnmanagedNode (or whatever I named it)",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92e4d8bd_704b59a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2022-04-20T09:36:12Z",
      "side": 1,
      "message": "Done, let me know what you think.",
      "parentUuid": "e11009fe_6b06adcd",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e16174f8_fb0a189e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2022-04-20T11:01:36Z",
      "side": 1,
      "message": "I like it. The only thing that\u0027s missing is getting rid of the leak (with lyd_free_all)",
      "parentUuid": "92e4d8bd_704b59a3",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34351860_b3d1e462",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2022-04-20T12:10:15Z",
      "side": 1,
      "message": "Yup, I forgot to compile with asan before PS2...\n\nDone.",
      "parentUuid": "e16174f8_fb0a189e",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60eba39c_ef100761",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2022-04-20T16:11:02Z",
      "side": 1,
      "message": "I looked into this and:\n\nlibyang-cpp has two versions of DataNode, the managed version, where m_refs contains stuff and the unmanaged version, where m_refs is nullptr. sysrepo-cpp uses the unmanaged version for notification callbacks where it wraps the input notification data. It is impossible to tell sysrepo to just give us the notif data (without copying), because it is const lyd_node*.\n\nThere is one more side problem: in sysrepo-cpp, I translate const lyd_node* to a const DataNode to signify to you must not change the data. However, since libyang-cpp is based on value semantics, the const has no meaning since it\u0027s easy to get rid of.",
      "parentUuid": "3f4356d1_613ab500",
      "revId": "38f2c97f923f19f30385dfc1d52ff86a38134d32",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    }
  ]
}